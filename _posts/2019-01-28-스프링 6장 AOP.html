---
layout: post
title:  "스프링 스터디 6장 AOP"
date:   2019-01-27 16:00:00 -0400
subtitle: "Spring 3대 기반기술중 하나인 AOP"
categories : 스프링
background: '/img/posts/02.jpg'
---

<h2>스프링의 3대 기반기술</h2>
<p>AOP, IoC/DI, 서비스 추상화가 3대 기반기술이다. AOP가 가장 인기있게 적용된 곳이 선언적 트랜잭션 기능이다. 이 과정을 보며 왜 스프링이 AOP를 도입했는 지를 알 수 있다</p>

<h2>트랜잭션 코드 분리</h2>
<p>스프링의 트랜잭션을 썼음에도 비즈니스 로직 앞 뒤로 긴 트랜잭션 코드는 못마땅하다. 비즈니스 로직과 트랜잭션 경계 설정코드는 사실 서로간 영향을 받지 않기 때문에, 비즈니스 로직을 따로 메소드로 빼는 것이 가능하다. 그리고 현재 클래스로 강한 결합이 되어있어, 인터페이스로 만든 후, 트랜잭션 경계설정을 하는 구현 클래스를 만들도록 하자. 이 클래스에서는 실제 비즈니스 로직을 하는 구현 클래스를 주입받아 사용하고 자신은 트랜잭션만 동작하도록 한다. 클라이언트는 트랜잭션처리를 하는 구현클래스를 주입받도록 설정받고, 트랜잭션처리 클래스는 실제 DB작업을 하는 클래스를 구현받아 사용하면 된다.</p>
<p>이를 통해 비즈니스 로직을 담당하는 클래스는 더 이상 트랜잭션 같은 기술적인 내용은 신경쓰지 않아도 된다.</p>

<h2>고립된 단위 테스트</h2>
<p>가장 편하고 좋은 테스트는 가능한 작은 단위로 쪼개는 것이다. 이를 통해서 어디서 실패했는 지 원인을 찾기가 쉬워지기 때문이다. </p>
